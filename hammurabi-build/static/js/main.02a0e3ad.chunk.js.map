{"version":3,"sources":["redux/store.js","render/serviceWorker.js","redux/actions.js","api.js","Credits.js","BuyCredits/index.js","FileInput.js","Songs/index.js","Themes/index.js","Videos.js","FrontNav.js","Dashboard/index.js","Logout.js","render/Settings.js","render/ChooseThread.js","render/Final.js","render/estimate.js","render/TimeEstimator.js","render/Navbar.js","render/sanitize.js","render/PickComments/Comment.js","render/PickComments/SortableComments.js","render/PickComments/index.js","render/Question.js","render/EditorComponent.js","render/SelfText.js","render/App.js","Testing.js","Themes/_id.js","Admin/UserList.js","Admin/index.js","AuthedRouter.js","Login.js","Register.js","DefaultRouter.js","App.js","index.js"],"names":["defaultState","comments","question","processed","song","theme","credits","themes","videos","songs","user","users","loggedIn","localStorage","getItem","process","createStore","state","action","type","_objectSpread","Object","assign","val","title","selftext_html","includeSelftext","setItem","removeItem","Boolean","window","location","hostname","match","setQuestion","content","setComments","jsonFetch","RequestInfo","RequestInit","method","headers","Content-Type","credentials","fetch","then","res","ok","json","status","store","dispatch","err","error","adminGetUsers","data","setUsers","adminCreateUser","email","password","body","JSON","stringify","adminChangePass","id","adminGiveCredits","quantity","getUser","setUser","getCredits","setCreditsAction","checkPrice","buyCredits","getSongs","setSongsAction","uploadSong","formData","r","deleteSong","getThread","thread","sort","mapping","comment","newcomment","Array","isArray","replies","map","enabled","getThemes","setThemesAction","getTheme","themeId","createTheme","editTheme","uploadThemeFiles","deleteTheme","deleteThemeFile","intro","transition","outro","longPollVideo","vidId","postPreview","options","postRender","_store$getState","getState","Accept","questionData","commentData","_postRender","getVideos","setVideosAction","authorize","Headers","authorization","pass","btoa","register","logout","connect","React","Component","[object Object]","args","super","this","handleChange","e","name","value","setState","componentDidMount","render","react_default","a","createElement","Segment","textAlign","secondary","Header","size","Subheader","Content","props","Loader","active","custom","currentPrice","stripe","timeout","perCredit","onPurchase","async","session","redirectToCheckout","sessionId","console","log","changeQuantity","_","clearTimeout","setTimeout","total","Stripe","Container","src_Credits","Grid","Column","Message","Form","Radio","label","checked","onChange","Input","min","Button","onClick","FileInput","buttonOnly","button","icon","style","position","fileInput","click","accept","ref","display","Icon","placeholder","file","labelPosition","readOnly","target","files","FormData","append","_id","handleFileChange","List","relaxed","verticalAlign","Item","className","key","floated","as","origname","Divider","src_FileInput","navigate","selection","Popup","trigger","on","fluid","onSubmit","isNaN","limit","slice","video","jsdate","Date","created","datePad","date","getFullYear","getMonth","getDate","getHours","getMinutes","href","Menu","header","Link","to","Dropdown","item","text","isAdmin","Dashboard","src_FrontNav","stackable","width","horizontal","Videos","Themes","src_Songs","Logout","componentWillMount","replace","Fragment","setTheme","setSong","handleTheme","handleSong","themeOptions","songOptions","unshift","Select","required","clearable","resetVideoState","input","loading","fetchThread","catch","preventDefault","indexOf","pattern","onlythread","handle","render_Settings","autoFocus","primary","disabled","negative","Final","done","send","outroLen","transitionLen","getFull","commentTimes","reduce","b","length","estimateCommentHtml","noTags","trim","splits","str","split","filter","d","words","estimate","estimateComment","time","commentArr","recAdd","push","body_html","Math","round","calculateCommentList","timeInSeconds","mins","floor","hours","readableTime","c","PureComponent","justifyContent","Step","Group","render_TimeEstimator","children","foulSpanArray","findWithRegex","regex","contentBlock","callback","getText","matchArr","start","exec","index","decorators","strategy","forEach","reg","RegExp","component","Comment","constructor","p","propagateHtmlChange","html","stateToHTML","editor","getCurrentContent","onBlur","onStateChange","propagateEnableChange","inlineToolbarPlugin","createInlineToolbarPlugin","linkPlugin","createLinkPlugin","plugins","convertFromHTML","EditorState","createWithContent","ContentState","createFromBlockArray","contentBlocks","entityMap","handlePress","stopPropagation","componentWillUnmount","_this$props","onKeyDown","color","marginRight","author","score","all_awardings","award","count","icon_url","src","alt","lib_default","editorState","InlineToolbar","extProps","draft_js_buttons_lib","LinkButton","Comment_Comment","toClass","classes","keys","join","SortableComments","onDragEnd","result","destination","reorder","source","react_beautiful_dnd_esm","droppableId","provided","droppableProps","innerRef","items","draggableId","draggableProps","dragHandleProps","draggable","current","setCurrent","setProcessed","bind","toggleCurrent","handleKeyEvent","fakecomments","createRef","code","goPrev","goNext","num","parseInt","addEventListener","removeEventListener","topComment","scrollTo","filt","recFilter","h","newS","chosen","has","set","add","commentNum","from","currentNum","reqComment","traverseOnce","i","toMinSec","seconds","fullMins","restSecs","calculateTotalTime","fullHtml","onCurrentCommentChange","s","onReorder","end","list","startIndex","endIndex","_result$splice","splice","removed","slicedToArray","flexDirection","render_PickComments_SortableComments","flexGrow","paddingLeft","render_PickComments_Comment","padding","max","marginTop","setTitle","EditorComponent","createEmpty","selftext","setSelftext","setIncludeSelftext","onChangeSelftext","onChangeInclude","Checkbox","render_EditorComponent","alignItems","paddingTop","marginLeft","basic","router_es","render_Navbar","path","ChooseThread","render_Question","SelfText","render_PickComments","render_Final","default","noThrow","Testing","message","sendRender","parse","TextArea","voices","find","th","voice","voiceSpeed","delete","submit","_this$state","preview","open","removeFile","inline","grouped","Field","addingUser","editingUser","selectedUser","creditsToGive","createUser","closeAddModal","openAddModal","changeUserPass","closeEditModal","giveCredits","openEditModal","Label","Description","videoCount","Modal","onClose","Actions","step","Admin_UserList","NotFound","redirect","AdminPath","src_Dashboard","src_BuyCredits","render_App","Logout_Logout","src_Testing","Admin","App","login","redirectTo","height","maxWidth","views_Comment_Comment","NotFoundLogin","Register","Login","src_AuthedRouter","DefaultRouter","ReactDOM","react_stripe_elements_es","apiKey","es","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.02a0e3ad.chunk.js","sourcesContent":["import { createStore } from 'redux'\n\nconst defaultState = {\n\t// Video rendering\n\tcomments: [],\n\tquestion: null,\n\tprocessed: null,\n\tsong: null,\n\ttheme: null,\n\n\t// Dashboard\n\tcredits: null,\n\tthemes: [],\n\tvideos: [],\n\tsongs: [],\n\n\tuser: {},\n\n\n\t// Admin\n\tusers: [],\n\n\tloggedIn: localStorage.getItem('loggedIn') === 'true',\n}\n\nfunction state(state = defaultState, action) {\n\tswitch (action.type) {\n\t\tcase 'RESET_VIDEOSTATE':\n\t\t\treturn { ...state, question: null, processed: null, comments: [], theme: null, song: null }\n\t\tcase 'SET_COMMENTS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tcomments: action.val,\n\t\t\t})\n\t\tcase 'SET_USER':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tuser: action.val,\n\t\t\t})\n\t\tcase 'SET_USERS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tusers: action.val,\n\t\t\t})\n\t\tcase 'SET_PROCESSED':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tprocessed: action.val,\n\t\t\t})\n\t\tcase 'SET_QUESTION':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tquestion: action.val,\n\t\t\t})\n\t\tcase 'SET_TITLE': {\n\t\t\tlet question = Object.assign({}, state.question, { title: action.val })\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tquestion: question,\n\t\t\t})\n\t\t}\n\t\tcase 'SET_SELFTEXT': {\n\t\t\tlet question = Object.assign({}, state.question, { selftext_html: action.val })\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tquestion,\n\t\t\t})\n\t\t}\n\t\tcase 'SET_INCLUDE_SELFTEXT': {\n\t\t\tlet question = Object.assign({}, state.question, { includeSelftext: action.val })\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tquestion,\n\t\t\t})\n\t\t}\n\t\tcase 'SET_THEME':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\ttheme: action.val,\n\t\t\t})\n\t\tcase 'SET_SONG':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tsong: action.val,\n\t\t\t})\n\t\tcase 'SET_CREDITS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tcredits: action.val,\n\t\t\t})\n\t\tcase 'SET_THEMES':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tthemes: action.val,\n\t\t\t})\n\t\tcase 'SET_SONGS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tsongs: action.val,\n\t\t\t})\n\t\tcase 'SET_VIDEOS':\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tvideos: action.val,\n\t\t\t})\n\t\tcase 'LOGIN':\n\t\t\tlocalStorage.setItem('loggedIn', 'true')\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tloggedIn: true,\n\t\t\t})\n\t\tcase 'LOGOUT':\n\t\t\tlocalStorage.removeItem('loggedIn')\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tloggedIn: false,\n\t\t\t})\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default process.env.NODE_ENV === \"development\" ?\n\tcreateStore(state, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()) :\n\tcreateStore(state)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const resetVideoState = content => ({\n\ttype: 'RESET_VIDEOSTATE',\n\tval: content,\n})\nexport const setProcessed = content => ({\n\ttype: 'SET_PROCESSED',\n\tval: content,\n})\nexport const setUser = content => ({\n\ttype: 'SET_USER',\n\tval: content,\n})\nexport const setUsers = content => ({\n\ttype: 'SET_USERS',\n\tval: content,\n})\nexport const setQuestion = content => ({\n\ttype: 'SET_QUESTION',\n\tval: content,\n})\nexport const setComments = content => ({\n\ttype: 'SET_COMMENTS',\n\tval: content,\n})\nexport const setTheme = content => ({\n\ttype: 'SET_THEME',\n\tval: content,\n})\nexport const setSong = content => ({\n\ttype: 'SET_SONG',\n\tval: content,\n})\nexport const setCredits = content => ({\n\ttype: 'SET_CREDITS',\n\tval: content,\n})\nexport const setThemes = content => ({\n\ttype: 'SET_THEMES',\n\tval: content,\n})\nexport const setSongs = content => ({\n\ttype: 'SET_SONGS',\n\tval: content,\n})\nexport const setVideos = content => ({\n\ttype: 'SET_VIDEOS',\n\tval: content,\n})\nexport const setTitle = content => ({\n\ttype: 'SET_TITLE',\n\tval: content,\n})\nexport const setSelftext = content => ({\n\ttype: 'SET_SELFTEXT',\n\tval: content,\n})\nexport const setIncludeSelftext = content => ({\n\ttype: 'SET_INCLUDE_SELFTEXT',\n\tval: content,\n})\nexport const login = () => ({\n\ttype: 'LOGIN',\n})\nexport const logout = () => ({\n\ttype: 'LOGOUT',\n})","import {\n\tlogin as loginAction,\n\tlogout as logoutAction,\n\tsetCredits as setCreditsAction,\n\tsetSongs as setSongsAction,\n\tsetThemes as setThemesAction,\n\tsetVideos as setVideosAction,\n\tsetQuestion,\n\tsetComments,\n\tsetUser,\n\tsetUsers\n} from './redux/actions'\nimport store from './redux/store'\n\nlet apiurl = process.env.NODE_ENV === \"development\" ?\n\t'http://localhost:4001/api' :\n\t'/api'\n\n// The jsonFetch function is a wrapper around the native fetch().\n// It returns the response in json, and removes the \"loggedIn\" item\n// from localStorage if the response status code is 401.\n// Returns a promise that throws if the status code is not in the 200-399 range\nconst jsonFetch = (RequestInfo, RequestInit = {}) => {\n\tif (typeof RequestInfo === 'string') {\n\t\tRequestInfo = apiurl + RequestInfo\n\t}\n\tif (RequestInit.method && RequestInit.method !== \"GET\") {\n\t\tif (!RequestInit.headers) {\n\t\t\tRequestInit.headers = {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t}\n\t\t}\n\t}\n\n\tRequestInit.credentials = 'include'\n\n\treturn fetch(RequestInfo, RequestInit)\n\t\t.then(res => {\n\t\t\tif (res.ok) {\n\t\t\t\treturn res.json()\n\t\t\t} else if (res.status === 401) {\n\t\t\t\tstore.dispatch(logoutAction())\n\t\t\t}\n\t\t\treturn res.json()\n\t\t\t\t.then(err => {\n\t\t\t\t\tthrow err.error // Parse as json, then throw.\n\t\t\t\t})\n\t\t})\n}\n\n// ADMIN ROUTES\n\nexport let adminGetUsers = function () {\n\treturn jsonFetch('/admin/users')\n\t\t.then(data => {\n\t\t\tstore.dispatch(setUsers(data))\n\t\t})\n}\n\nexport let adminCreateUser = function (email, password) {\n\treturn jsonFetch('/admin/users', {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ email, password })\n\t})\n}\n\nexport let adminChangePass = function (id, password) {\n\treturn jsonFetch(`/admin/users/${id}/change-password`, {\n\t\tmethod: 'PUT',\n\t\tbody: JSON.stringify({ password })\n\t})\n}\n\nexport let adminGiveCredits = function (id, quantity) {\n\treturn jsonFetch(`/admin/users/${id}/add-credits`, {\n\t\tmethod: 'PUT',\n\t\tbody: JSON.stringify({ quantity })\n\t})\n}\n\n// NORMAL ROUTES\n\nexport let getUser = function () {\n\treturn jsonFetch('/me')\n\t\t.then(data => {\n\t\t\tstore.dispatch(setUser(data))\n\t\t})\n}\n\nexport let getCredits = function () {\n\treturn jsonFetch('/credits')\n\t\t.then(data => {\n\t\t\tstore.dispatch(setCreditsAction(data.credits))\n\t\t\treturn data\n\t\t})\n}\n\n// Returns { total: Number }\nexport let checkPrice = function (quantity) {\n\treturn jsonFetch('/credits/check-price', {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ quantity }),\n\t})\n}\n\n// Use stripe to buy credits\n// Returns { session: String }\nexport let buyCredits = function (quantity) {\n\treturn jsonFetch('/credits/buy', {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ quantity }),\n\t})\n}\n\nexport let getSongs = function () {\n\treturn jsonFetch('/songs')\n\t\t.then(songs => {\n\t\t\tstore.dispatch(setSongsAction(songs))\n\t\t\treturn songs\n\t\t})\n}\n\nexport let uploadSong = function (formData) {\n\treturn jsonFetch('/songs', {\n\t\tmethod: 'POST',\n\t\tbody: formData,\n\t\theaders: {\n\t\t}\n\t})\n\t\t.then(r => {\n\t\t\tgetSongs()\n\t\t\treturn r\n\t\t})\n}\n\nexport let deleteSong = function (id) {\n\treturn jsonFetch('/songs/' + id, {\n\t\tmethod: 'DELETE',\n\t})\n}\n\nexport let getThread = function (thread, sort) {\n\treturn jsonFetch(`/thread/${thread}?sort=${sort}`)\n\t\t.then(json => {\n\t\t\tlet mapping = comment => {\n\t\t\t\tlet newcomment = Object.assign({}, comment)\n\n\t\t\t\tif (Array.isArray(newcomment.replies)) {\n\t\t\t\t\tnewcomment.replies = newcomment.replies.map(mapping)\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tenabled: false,\n\t\t\t\t\tdata: newcomment\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet comments = json[1].map(mapping)\n\n\t\t\tstore.dispatch(setQuestion(json[0]))\n\t\t\tstore.dispatch(setComments(comments))\n\n\t\t\treturn json\n\t\t})\n}\n\nexport let getThemes = function () {\n\treturn jsonFetch('/themes')\n\t\t.then(themes => {\n\t\t\tstore.dispatch(setThemesAction(themes))\n\t\t\treturn themes\n\t\t})\n}\n\nexport let getTheme = function (themeId) {\n\treturn jsonFetch('/themes/' + themeId)\n}\n\nexport let createTheme = function (data) {\n\treturn jsonFetch('/themes', {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify(data),\n\t})\n}\n\nexport let editTheme = function (id, data) {\n\treturn jsonFetch('/themes/' + id, {\n\t\tmethod: 'PUT',\n\t\tbody: JSON.stringify(data),\n\t})\n}\n\nexport let uploadThemeFiles = function (id, formData) {\n\treturn jsonFetch('/themes/' + id + '/files', {\n\t\tmethod: 'POST',\n\t\tbody: formData,\n\t\theaders: {\n\t\t}\n\t})\n}\n\nexport let deleteTheme = function (id) {\n\treturn jsonFetch('/themes/' + id, {\n\t\tmethod: 'DELETE',\n\t})\n}\n\nexport let deleteThemeFile = function (id, body = { intro: false, transition: false, outro: false }) {\n\treturn jsonFetch('/themes/' + id + '/files', {\n\t\tmethod: 'DELETE',\n\t\tbody: JSON.stringify(body),\n\t})\n}\n\nexport let longPollVideo = function (vidId) {\n\treturn jsonFetch('/check-on-video/' + vidId)\n}\n\nexport let postPreview = function (theme, song) {\n\treturn jsonFetch('/preview', {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({\n\t\t\toptions: {\n\t\t\t\ttheme,\n\t\t\t\tsong,\n\t\t\t}\n\t\t}),\n\t})\n}\n\nexport let postRender = function () {\n\tlet { question, processed, theme, song } = store.getState()\n\n\tif (!question.includeSelftext) {\n\t\tdelete question.selftext_html\n\t}\n\n\treturn jsonFetch('/videos', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tquestionData: question,\n\t\t\tcommentData: processed,\n\t\t\toptions: {\n\t\t\t\ttheme,\n\t\t\t\tsong,\n\t\t\t},\n\t\t})\n\t})\n}\n\nexport let _postRender = function (state) {\n\tlet { questionData, commentData, options } = state\n\n\tif (!questionData.includeSelftext) {\n\t\tdelete questionData.selftext_html\n\t}\n\n\treturn jsonFetch('/videos', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tquestionData,\n\t\t\tcommentData,\n\t\t\toptions,\n\t\t})\n\t})\n}\n\nexport const getVideos = function () {\n\treturn jsonFetch('/videos')\n\t\t.then(r => {\n\t\t\tstore.dispatch(setVideosAction(r))\n\t\t\treturn r\n\t\t})\n}\n\nexport const openVideoLink = function (videoId) {\n\treturn window.open('/videos/' + videoId, '_blank')\n}\n\n// btoa: Binary to Ascii (Base64 only contains ascii characters)\n\n// Basic toBase64(username:password)\nconst toBasicAuth = (user, pass) => `Basic ${btoa(user + ':' + pass)}`\n\nexport let authorize = function (email, password) {\n\treturn jsonFetch('/auth', {\n\t\theaders: new Headers({\n\t\t\tauthorization: toBasicAuth(email, password),\n\t\t}),\n\t\tmethod: 'POST',\n\t}).then(r => {\n\t\tstore.dispatch(loginAction())\n\t\treturn r\n\t})\n}\n\nexport let register = function (email, password) {\n\treturn jsonFetch('/register', {\n\t\tbody: JSON.stringify({ email, password }),\n\t\tmethod: 'POST',\n\t})\n}\n\nexport let logout = function () {\n\treturn jsonFetch('/logout').then(r => {\n\t\tstore.dispatch(logoutAction())\n\t})\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Header, Segment, Loader } from 'semantic-ui-react'\nimport { getCredits } from './api'\n\nclass Credits extends React.Component {\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    componentDidMount() {\n        getCredits()\n    }\n    render() {\n        return (\n            <Segment textAlign=\"center\" secondary>\n                <Header size=\"huge\">\n                    <Header.Subheader>Credits</Header.Subheader>\n                    <Header.Content>\n                        {this.props.credits != null ?\n                            this.props.credits :\n                            <Loader active />}\n                    </Header.Content>\n                </Header>\n            </Segment>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        credits: store.credits,\n    }\n}\n\nexport default connect(mapStateToProps)(Credits);","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Container, Form, Grid, Header, Message, Segment } from 'semantic-ui-react'\nimport { buyCredits, checkPrice } from '../api'\nimport Credits from '../Credits'\n\nclass BuyCredits extends React.Component {\n    state = {\n        credits: 10,\n        custom: false,\n        currentPrice: null,\n        stripe: null,\n\n        timeout: null,\n        perCredit: null,\n    }\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    componentDidMount() {\n        // getCredits()\n        this.setState({ stripe: window.Stripe('pk_test_L7TCDB8LinfbSK3OzvaoaXEj00z2dt6HgK') })\n        this.changeQuantity(null, { value: this.state.credits })\n    }\n    onPurchase = async () => {\n        let { session } = await buyCredits(this.state.credits)\n        this.state.stripe.redirectToCheckout({\n            sessionId: session.id,\n        }).then(res => {\n            console.log(res)\n        })\n    }\n    changeQuantity = (_, { value }) => {\n        this.setState({ credits: value })\n\n        if (this.state.timeout !== null) {\n            clearTimeout(this.state.timeout)\n        }\n        let timeout = setTimeout(async () => {\n            let { total } = await checkPrice(value)\n            this.setState({ currentPrice: total, perCredit: total / value, timeout: null })\n        }, 200)\n        this.setState({ timeout })\n    }\n    render() {\n        return (\n            <Container>\n                <Credits />\n                <Grid>\n                    <Grid.Column>\n                        <Segment>\n                            <Header>Buy credits</Header>\n                            <Message>This is a message to show how much one credit is worth</Message>\n                            <Form>\n                                <Form.Radio name=\"credits\" label=\"10 Credits\" value={10} checked={this.state.credits === 10} onChange={this.changeQuantity} />\n                                <Form.Radio name=\"credits\" label=\"25 Credits\" value={25} checked={this.state.credits === 25} onChange={this.changeQuantity} />\n                                <Form.Radio name=\"credits\" label=\"50 Credits\" value={50} checked={this.state.credits === 50} onChange={this.changeQuantity} />\n                                <Form.Radio name=\"credits\" label=\"100 Credits\" value={100} checked={this.state.credits === 100} onChange={this.changeQuantity} />\n                                <Form.Input name=\"credits\" label=\"Custom amount\" value={this.state.credits} onChange={this.changeQuantity} type=\"number\" min={1} />\n                                <Header>\n                                    <Header.Content>\n                                        {this.state.currentPrice}\n                                    </Header.Content>\n                                    <Header.Subheader>\n                                        {this.state.perCredit}/Credit\n                                    </Header.Subheader>\n                                </Header>\n                                <Form.Button onClick={this.onPurchase} size=\"large\">Buy</Form.Button>\n                            </Form>\n                        </Segment>\n                    </Grid.Column>\n                </Grid>\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        credits: store.credits,\n    }\n}\n\nexport default connect(mapStateToProps)(BuyCredits);","import React from 'react'\nimport { Button, Icon, Input } from 'semantic-ui-react'\n\nclass FileInput extends React.Component {\n    render() {\n        let buttonOnly = this.props.buttonOnly\n\n        let button =\n            <Button\n                icon={!this.props.label}\n                style={{ position: 'relative' }}\n                onClick={() => this.fileInput.click()}>\n                <input\n                    name={this.props.name}\n                    type=\"file\"\n                    accept={this.props.accept || null}\n                    ref={r => this.fileInput = r}\n                    style={{ display: 'none' }}\n                    onChange={this.props.onChange} />\n                <Icon name={this.props.icon || \"file\"}\n                    size={this.props.size} />\n                {this.props.label && this.props.label}\n            </Button>\n        return (\n            buttonOnly ? button :\n                <Input\n                    {...this.props}\n                    placeholder={this.props.placeholder || \"No file\"}\n                    value={this.props.file ? this.props.file.name : ''}\n                    label={button}\n                    labelPosition=\"left\"\n                    readOnly={true}\n                    size={this.props.size}\n                    onClick={() => this.fileInput.click()} />\n        )\n    }\n}\n\nexport default FileInput;","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Container, Divider, Icon, List, Loader } from 'semantic-ui-react'\nimport { deleteSong, getSongs, uploadSong } from '../api'\nimport FileInput from '../FileInput'\nimport './index.css'\n\nclass ThemesList extends React.Component {\n    uploadSong = async (e) => {\n        let file = e.target.files[0]\n        let formData = new FormData()\n        formData.append('song', file)\n        await uploadSong(formData)\n    }\n    deleteSong = async song => {\n        await deleteSong(song._id)\n        getSongs()\n    }\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    handleFileChange = (e, { name }) => this.setState({ [name]: e.target.files[0] })\n    componentDidMount() {\n        getSongs()\n    }\n    render() {\n        return (\n            <Container textAlign=\"left\">\n                <List relaxed verticalAlign=\"middle\">\n                    {this.props.songs ? this.props.songs.map(song =>\n                        <List.Item className=\"song-item\" key={song._id}>\n                            <List.Content className=\"song-icon\" floated=\"right\" as=\"a\" onClick={() => this.deleteSong(song)} title=\"Delete song\">\n                                <Icon name=\"delete\" />\n                            </List.Content>\n                            <List.Content>\n                                <List.Header>\n                                    {song.file.origname}\n                                </List.Header>\n                            </List.Content>\n                        </List.Item>\n                    ) :\n                        <Loader active />}\n                </List>\n                <Divider></Divider>\n\n                <FileInput icon=\"music\" accept=\"audio/*\" buttonOnly name=\"song\" label=\"Upload song\" onChange={this.uploadSong} />\n                {/* <Popup trigger={<Button>Upload song</Button>}\n                    on=\"click\"\n                    position=\"bottom center\">\n                    <Container fluid textAlign=\"center\">\n                        <Form onSubmit={this.uploadSong}>\n                            <Header>Upload song</Header>\n                            <Form.Input name=\"name\" onChange={this.handleChange} placeholder=\"Name\" />\n                            <Form.Button type=\"submit\">Upload</Form.Button>\n                            <Message size=\"tiny\" color=\"yellow\">\n                                Songs that are too short will be repeated\n                            </Message>\n                        </Form>\n                    </Container>\n                </Popup> */}\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        songs: store.songs,\n    }\n}\n\nexport default connect(mapStateToProps)(ThemesList);","import { navigate } from '@reach/router'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Container, Divider, Form, Header, List, Loader, Popup } from 'semantic-ui-react'\nimport { createTheme, getThemes } from '../api'\n\nclass ThemesList extends React.Component {\n    createTheme = async () => {\n        const { theme } = await createTheme({ name: this.state.name })\n        navigate(`/themes/${theme}`)\n    }\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    componentDidMount() {\n        getThemes()\n    }\n    render() {\n        return (\n            <Container textAlign=\"left\">\n                <List selection>\n                    {this.props.themes ? this.props.themes.map(theme =>\n                        <List.Item key={theme._id} onClick={() => navigate(\"/themes/\" + theme._id)}>\n                            {/* <Link to={\"/themes/\" + theme._id}> */}\n                            <List.Content>\n                                <List.Header>{theme.name}</List.Header>\n                            </List.Content>\n                            {/* </Link> */}\n                        </List.Item>\n                    ) :\n                        <Loader active />}\n                </List>\n                <Divider></Divider>\n                <Popup trigger={<Button>New theme</Button>} on=\"click\" position=\"bottom center\">\n                    <Container fluid textAlign=\"center\">\n                        <Form onSubmit={this.createTheme}>\n                            <Header>Create new theme</Header>\n                            <Form.Input name=\"name\" onChange={this.handleChange} placeholder=\"Name\"></Form.Input>\n                            <Form.Button type=\"submit\">Create</Form.Button>\n                        </Form>\n                    </Container>\n                </Popup>\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        themes: store.themes,\n    }\n}\n\nexport default connect(mapStateToProps)(ThemesList);","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Container, List, Loader } from 'semantic-ui-react'\nimport { getVideos } from './api'\n\nclass VideosList extends React.Component {\n    componentDidMount() {\n        getVideos()\n    }\n    getVideos = () => {\n        return isNaN(this.props.limit) ? this.props.videos : this.props.videos.slice(0, this.props.limit)\n    }\n    render() {\n        return (\n            <Container>\n                <List selection>\n                    {this.props.videos ? this.getVideos().map(video => {\n                        let jsdate = new Date(video.created)\n                        let datePad = date => (\"0\" + date).slice(-2)\n                        let date = `${jsdate.getFullYear()}-${datePad(jsdate.getMonth())}-${datePad(jsdate.getDate())} ${datePad(jsdate.getHours())}:${datePad(jsdate.getMinutes())}`\n                        return (\n                            <List.Item key={video._id} as=\"a\" href={\"/api/videos/\" + video.file}>\n                                <List.Content>\n                                    <List.Header>{video.name || \"Unnamed video\"}</List.Header>\n                                    {date}\n                                </List.Content>\n                            </List.Item>\n                        )\n                    }) :\n                        <List.Item><Loader active /></List.Item>}\n                </List>\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        videos: store.videos,\n    }\n}\n\nexport default connect(mapStateToProps)(VideosList);","import React from 'react'\nimport { Link } from '@reach/router'\nimport { connect } from 'react-redux'\nimport { Menu, Dropdown } from 'semantic-ui-react'\n\nclass FrontNav extends React.Component {\n    render() {\n        console.log(this.props.user)\n        return (\n            <Menu>\n                <Menu.Item header>Reddit Video Maker</Menu.Item>\n                <Menu.Item as={Link} to=\"/\">Dashboard</Menu.Item>\n                <Menu.Menu position=\"right\">\n                    <Dropdown item text=\"Account\">\n                        <Dropdown.Menu>\n                            {this.props.user.isAdmin && <Dropdown.Item as={Link} to=\"/admin\">Admin</Dropdown.Item>}\n                            <Dropdown.Item as={Link} to=\"/logout\">Log out</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </Menu.Menu>\n            </Menu>\n        )\n    }\n}\n\nlet mapStateToProps = state => ({\n    user: state.user,\n})\n\nexport default connect(mapStateToProps)(FrontNav);","import { Link } from '@reach/router'\nimport React from 'react'\nimport { Button, Container, Divider, Grid, Header, Segment } from 'semantic-ui-react'\nimport Songs from '../Songs'\nimport Themes from '../Themes/index'\nimport Videos from '../Videos'\nimport Credits from '../Credits'\nimport FrontNav from '../FrontNav'\n\nclass Dashboard extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<FrontNav />\n\t\t\t\t<Header textAlign=\"center\" as=\"h1\">Dashboard</Header>\n\t\t\t\t<Grid stackable>\n\t\t\t\t\t<Grid.Column width={8}>\n\t\t\t\t\t\t<Divider horizontal>Credits</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Credits />\n\t\t\t\t\t\t\t<Button as={Link} to=\"/buy-credits\">Buy credits</Button>\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t<Divider horizontal>Videos</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Videos limit={8} />\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t<Button as={Link} to=\"/video\">Make video</Button>\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t<Grid.Column width={8}>\n\t\t\t\t\t\t<Divider horizontal>Themes</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Themes />\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t<Divider horizontal>Songs</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Songs />\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default Dashboard","import React from 'react'\nimport { logout } from './api'\nimport { navigate } from '@reach/router'\n\nexport default class Logout extends React.Component {\n    componentWillMount() {\n        this.logout();\n    }\n    logout() {\n        logout()\n            .then(r => {\n                navigate('/login', { replace: true })\n            })\n    }\n    render() {\n        return <></>\n    }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form } from 'semantic-ui-react';\nimport { setSong, setTheme } from '../redux/actions';\n\nclass Settings extends Component {\n\thandleTheme = (e, { value }) => {\n\t\tthis.props.setTheme(value)\n\t}\n\thandleSong = (e, { value }) => {\n\t\tthis.props.setSong(value)\n\t}\n\trender() {\n\t\tlet themeOptions = this.props.themes.map(theme => ({ value: theme._id, key: theme._id, text: theme.name }))\n\t\tlet songOptions = this.props.songs.map(song => ({ value: song._id, key: song._id, text: song.file.origname }))\n\t\tsongOptions.unshift({ value: null, key: \"\", text: \"No song\" })\n\n\t\treturn (\n\t\t\t<Form onSubmit={this.props.onSubmit}>\n\t\t\t\t<Form.Select\n\t\t\t\t\tlabel=\"Theme\"\n\t\t\t\t\trequired\n\t\t\t\t\tplaceholder=\"Select a theme\"\n\t\t\t\t\tvalue={this.props.theme}\n\t\t\t\t\tname=\"theme\"\n\t\t\t\t\toptions={themeOptions}\n\t\t\t\t\tonChange={this.handleTheme}\n\t\t\t\t/>\n\t\t\t\t<Form.Select\n\t\t\t\t\tlabel=\"Song\"\n\t\t\t\t\tclearable\n\t\t\t\t\tplaceholder=\"No song\"\n\t\t\t\t\tvalue={this.props.song}\n\t\t\t\t\tname=\"song\"\n\t\t\t\t\toptions={songOptions}\n\t\t\t\t\tonChange={this.handleSong}\n\t\t\t\t/>\n\t\t\t</Form>\n\t\t)\n\t}\n}\n\nexport default connect(state => ({\n\ttheme: state.theme,\n\tsong: state.song,\n\tthemes: state.themes,\n\tsongs: state.songs,\n}), { setTheme, setSong })(Settings);","import { navigate } from '@reach/router'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider, Form, Icon, Message, Segment } from 'semantic-ui-react'\nimport { getThread } from '../api'\nimport { setComments, setQuestion, resetVideoState } from '../redux/actions'\nimport Settings from './Settings'\n\nclass Thread extends React.Component {\n\tstate = {\n\t\tinput: '',\n\t\tsort: 'top',\n\t\tloading: null,\n\t\terror: null,\n\t}\n\tcomponentWillMount() {\n\t\tthis.props.resetVideoState()\n\t}\n\tfetchThread = (thread, sort) => {\n\t\tthis.setState({ error: null, loading: true })\n\n\t\tgetThread(thread, sort)\n\t\t\t.then(() => {\n\t\t\t\tthis.setState({ loading: false })\n\t\t\t\tnavigate('/video/post')\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(\"Here?\")\n\t\t\t\tthis.setState({ error: err, loading: false })\n\t\t\t})\n\t}\n\tonSubmit = e => {\n\t\te.preventDefault()\n\n\t\tlet thread = this.state.input\n\n\t\tif (thread.indexOf('comments') !== -1) {\n\t\t\tlet pattern = /\\/comments\\/([\\w]+)/\n\t\t\tlet match = thread.match(pattern)\n\n\t\t\tif (match) {\n\t\t\t\tthread = match[1]\n\t\t\t}\n\t\t}\n\n\t\tlet onlythread = thread.replace(/[^\\w\\d]/g, '')\n\n\t\tthis.fetchThread(onlythread, this.state.sort)\n\t}\n\thandle = (e, { name, value }) => this.setState({ [name]: value })\n\trender() {\n\t\tlet sortOptions = [\n\t\t\t{ text: 'Top', value: 'top' },\n\t\t\t{ text: 'Best', value: 'best' },\n\t\t\t{ text: 'New', value: 'new' },\n\t\t]\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Settings />\n\t\t\t\t<Divider />\n\t\t\t\t<Form onSubmit={this.onSubmit}>\n\t\t\t\t\t<Form.Input label=\"Thread\" required value={this.state.input} onChange={this.handle} name=\"input\" placeholder=\"Type a reddit thread ID or paste its URL\" autoFocus />\n\t\t\t\t\t<Form.Select label=\"Sort by\" required value={this.state.sort} onChange={this.handle} name=\"sort\" options={sortOptions} />\n\t\t\t\t\t<Form.Button primary loading={this.state.loading} disabled={!this.props.theme || !this.state.input}>OK<Icon name=\"angle right\" /></Form.Button>\n\t\t\t\t\t{this.state.error && <Message negative>{this.state.error}</Message>}\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nexport default connect(state => ({\n\ttheme: state.theme,\n}), {\n\tsetComments,\n\tsetQuestion,\n\tresetVideoState,\n})(Thread);","import React, { Component } from 'react';\nimport { Button, Divider, Segment } from 'semantic-ui-react';\nimport { postRender } from '../api';\nimport Settings from './Settings';\n\nclass Final extends Component {\n    state = { loading: false, done: false }\n    send = async () => {\n        this.setState({ loading: true, done: false })\n        await postRender()\n        this.setState({ loading: false, done: true })\n    }\n    render() {\n\n        return (\n            <Segment>\n                {this.state.done ?\n                    <p>The video is now rendering.</p> :\n                    <>\n                        <p>Change settings if needed and then send to render video.</p>\n                        <Settings />\n                        <Divider />\n                        <Button primary size=\"large\" loading={this.state.loading} onClick={this.send}>Render</Button>\n                    </>\n                }\n            </Segment>\n        )\n    }\n}\n\nexport default Final","// ffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 transition.mkv\n\n// Outro 13.163 s\n// Transition bright 0.843 s\n// Transition 0.741 s\n// Number of splits * X\n// Number of words * Y\n\nlet outroLen = 13.163\nlet transitionLen = 0.741\n\nfunction splitString(str) {\n\treturn str\n\t\t.split(/<br>|(.+?[\\.,?!]+[\"'\\)\\s]+)/g) // eslint-disable-line no-useless-escape\n\t\t.filter(d => d.replace('\\u200B', ' ').trim().length > 0)\n}\n\nexport function getFull(commentTimes) {\n\tlet comments = commentTimes.reduce((a, b) => a + b, 0)\n\treturn comments + outroLen + transitionLen * commentTimes.length\n}\n\nexport function estimateComment(splits, words) {\n\treturn (splits * 0.38152203637725923 + words * 0.2767486833003453) * 0.98\n}\n\nexport function estimateCommentHtml(comment) {\n\tlet noTags = comment.replace(/<.+?>/g, '').trim()\n\tlet splits = splitString(noTags).length\n\tlet words = noTags.replace(/<.+?>/g, '').split(/\\s+/g).length\n\tlet estimate = estimateComment(splits, words)\n\n\treturn {\n\t\twords,\n\t\tsplits,\n\t\testimate,\n\t}\n}\n\nexport function calculateCommentList(commentArr) {\n\tlet total = []\n\tlet recAdd = comment => {\n\t\ttotal.push(estimateCommentHtml(comment.data.body_html).estimate)\n\n\t\tif (Array.isArray(comment.data.replies)) {\n\t\t\tcomment.data.replies\n\t\t\t\t.filter(r => r.enabled)\n\t\t\t\t.map(recAdd)\n\t\t}\n\t}\n\tcommentArr\n\t\t.filter(d => d.enabled)\n\t\t.map(recAdd)\n\n\treturn Math.round(1e2 * getFull(total)) / 1e2\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Header } from 'semantic-ui-react';\nimport { calculateCommentList, estimateCommentHtml } from './estimate';\n\nfunction readableTime(timeInSeconds) {\n    let mins = Math.floor(timeInSeconds / 60)\n    let hours = Math.floor(mins / 60)\n    mins -= hours * 60\n\n    let seconds = Math.floor(timeInSeconds) - mins * 60 - hours * 60\n\n    let str = \"\"\n    if (hours > 0) {\n        str += hours + \" h, \"\n    }\n    if (mins > 0) {\n        str += mins + \" m, \"\n    }\n    str += seconds + \" s\"\n\n    return str\n}\n\nclass TimeEstimator extends Component {\n    render() {\n        let time = calculateCommentList(this.props.comments)\n\n        if (this.props.question.includeSelftext && this.props.question.selftext_html) {\n            let selftext = this.props.question.selftext_html\n            time += estimateCommentHtml(selftext).estimate\n        }\n\n        return (\n            <div>\n                <Header>\n                    <Header.Content>Estimated video length: {readableTime(time)}</Header.Content>\n                </Header>\n                Comments selected: {this.props.comments.filter(c => c.enabled).length}\n            </div>\n        )\n    }\n}\n\nexport default connect(state => ({\n    comments: state.comments,\n    question: state.question,\n}))(TimeEstimator);","import { Link } from '@reach/router'\nimport React from 'react'\nimport { Header, Step } from 'semantic-ui-react'\nimport TimeEstimator from './TimeEstimator'\nimport { connect } from 'react-redux'\n\nclass Navbar extends React.PureComponent {\n    render() {\n        return (\n            <div>\n                {this.props.question && \n                    <div style={{ textAlign: 'center' }}>\n                        <div style={{ display: 'flex', justifyContent: 'center' }}>\n                            <Step.Group>\n                                <Step active={this.props[\"*\"] === \"post\"} as={Link} to=\"post\">Question title</Step>\n                                <Step active={this.props[\"*\"] === \"selftext\"} as={Link} to=\"selftext\">Body text</Step>\n                                <Step active={this.props[\"*\"] === \"comments\"} as={Link} to=\"comments\">Comments</Step>\n                                <Step active={this.props[\"*\"] === \"final\"} as={Link} to=\"final\">Finish</Step>\n                            </Step.Group>\n                        </div>\n                        <TimeEstimator />\n                        <Header as=\"h2\">{this.props.question.title}</Header>\n                    </div>\n                }\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\nexport default connect(state => ({\n    question: state.question,\n}))(Navbar)","// These will hide the middle of the three regex groups\nexport const foulSpanArray = [\n\t/(f)(uck)()/,\n\t/(sh)(it)()/,\n\t/(b)(it)(ch)/,\n\t/(c)(un)(t)/,\n\t/(ni)(gg)(a)/,\n\t/(ni)(gge)(r)/,\n\t/(p)(o)(rn)/,\n\t/((?:\\W|^)d)(ic)(k)/,\n\t/((?:\\W|^)a)(ss)(es)(?!\\w)/,\n\t/((?:\\W|^)a)(ss)(\\W|$)/,\n\t/((?:\\W|^)r)(ap)(e|ist|ing)/,\n\t/((?:\\W|^)c)(u)(m)/,\n\t/((?:\\W|^)t)(i)(ts)/,\n\t/(t)(it)(ties)/,\n\t/(c)(o)(ck[^an])/, // doesnt match 'cockney', 'cockatrice'\n\t/(wh)(or)(e)/,\n\t/(p)(us)(sy)/,\n\t/(s)(e)(x)/,\n\t/(d)(ic)(k)/,\n\t/(ret)(ar)(d)/,\n\t/(a)(ss)(hat|face|head|burger|hole)/,\n\t/((?:\\W|^)a)(n)(al[^oy])/,\n\t/(pe)(n)(is)/,\n\t/(va)(gi)(na)/,\n\t/(dr)(u)(gs)/,\n\t/(mast)(urb)(at)/,\n\t/(dr)(u)(gs)/,\n]","import React from 'react'\nimport { EditorState, ContentState, convertFromHTML } from 'draft-js'\nimport Editor from 'draft-js-plugins-editor'\nimport { stateToHTML } from 'draft-js-export-html'\nimport { foulSpanArray } from '../sanitize'\nimport createLinkPlugin from 'draft-js-anchor-plugin'\nimport createInlineToolbarPlugin from 'draft-js-inline-toolbar-plugin'\nimport { ItalicButton, BoldButton, UnderlineButton } from 'draft-js-buttons'\n\nimport './Comment.css'\n\nfunction handleStrategy(contentBlock, callback) {\n\tfoulSpanArray.forEach(reg => {\n\t\tfindWithRegex(new RegExp(reg, 'ig'), contentBlock, callback)\n\t})\n}\n\nfunction editStrategy(contentBlock, callback) {\n\tfindWithRegex(/(?:^|\\W)edit/img, contentBlock, callback)\n}\n\nlet handleSpan = props => {\n\treturn <span className=\"highlight-danger\">{props.children}</span>\n}\n\nlet editSpan = props => {\n\treturn <span className=\"highlight-warn\">{props.children}</span>\n}\n\nfunction findWithRegex(regex, contentBlock, callback) {\n\tconst text = contentBlock.getText()\n\tlet matchArr, start\n\twhile ((matchArr = regex.exec(text)) !== null) {\n\t\tstart = matchArr.index\n\t\tcallback(start, start + matchArr[0].length)\n\t}\n}\n\nlet decorators = [\n\t{\n\t\tstrategy: handleStrategy,\n\t\tcomponent: handleSpan,\n\t},\n\t{\n\t\tstrategy: editStrategy,\n\t\tcomponent: editSpan,\n\t},\n]\n\nclass Comment extends React.Component {\n\tconstructor(p) {\n\t\tsuper(p)\n\n\t\tthis.inlineToolbarPlugin = createInlineToolbarPlugin()\n\t\tthis.linkPlugin = createLinkPlugin()\n\t\tthis.plugins = [\n\t\t\tthis.inlineToolbarPlugin,\n\t\t\tthis.linkPlugin,\n\t\t]\n\n\t\tlet d = convertFromHTML(p.comment.data.body_html)\n\t\tthis.state = { editor: EditorState.createWithContent(ContentState.createFromBlockArray(d.contentBlocks, d.entityMap)) }\n\t}\n\thandlePress(e) {\n\t\te.stopPropagation()\n\t}\n\tpropagateHtmlChange = () => {\n\t\tlet html = stateToHTML(this.state.editor.getCurrentContent())\n\n\t\tthis.props.comment.data.body_html = html\n\n\t\tthis.props.onChange()\n\t}\n\tonBlur = e => {\n\t\tthis.propagateHtmlChange()\n\t}\n\tonStateChange = editor => this.setState({ editor })\n\tpropagateEnableChange = () => {\n\t\tthis.props.comment.enabled = !this.props.comment.enabled\n\t\tthis.props.onChange()\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.propagateHtmlChange()\n\t}\n\trender() {\n\t\tlet { comment, onChange } = this.props\n\n\t\treturn (\n\t\t\t<div className=\"Comment\">\n\t\t\t\t<input className=\"left-box\" type=\"checkbox\" checked={comment.enabled} onChange={this.propagateEnableChange} />\n\t\t\t\t<div onKeyDown={this.handlePress}>\n\t\t\t\t\t<div onClick={this.propagateEnableChange}>\n\t\t\t\t\t\t<span style={{ color: \"blue\", marginRight: 5 }}>{comment.data.author}</span>\n\t\t\t\t\t\t<span>{comment.data.score >= 1e3 ? Math.round(comment.data.score / 1e2) / 1e1 + 'k' : comment.data.score} points</span>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{comment.data.all_awardings.map(award => <span key={award.count + award.icon_url}><img src={award.icon_url} alt=\"award\" width={16} />{award.count > 1 && award.count}</span>)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Editor\n\t\t\t\t\t\teditorState={this.state.editor}\n\t\t\t\t\t\tonChange={this.onStateChange}\n\t\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\t\tdecorators={decorators}\n\t\t\t\t\t\tplugins={this.plugins}\n\t\t\t\t\t/>\n\t\t\t\t\t<this.inlineToolbarPlugin.InlineToolbar>\n\t\t\t\t\t\t{extProps => <>\n\t\t\t\t\t\t\t<BoldButton {...extProps} />\n\t\t\t\t\t\t\t<ItalicButton {...extProps} />\n\t\t\t\t\t\t\t<UnderlineButton {...extProps} />\n\t\t\t\t\t\t\t<this.linkPlugin.LinkButton {...extProps} />\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</this.inlineToolbarPlugin.InlineToolbar>\n\t\t\t\t\t{Array.isArray(comment.data.replies) && comment.data.replies.map(d => <Comment key={d.data.id} comment={d} onChange={onChange} />)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Comment;","import React from 'react'\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'\nimport './SortableComments.css'\n\nlet toClass = classes => Object.keys(classes).filter(d => classes[d]).join(' ')\n\nclass SortableComments extends React.Component {\n\tonDragEnd = (result) => {\n\t\tif (!result.destination) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.props.reorder(result.source.index, result.destination.index)\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<DragDropContext onDragEnd={this.onDragEnd}>\n\t\t\t\t<Droppable droppableId=\"droppable\">\n\t\t\t\t\t{provided => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\tclassName=\"draggable-container\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.props.items.map((item, index) => (\n\t\t\t\t\t\t\t\t<Draggable key={item.data.id} draggableId={item.data.id} index={index}>\n\t\t\t\t\t\t\t\t\t{provided => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\t\t\t\t\t\tclassName={toClass({\n\t\t\t\t\t\t\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent: this.props.current === index,\n\t\t\t\t\t\t\t\t\t\t\t\tenabled: item.enabled,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.setCurrent(index)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{index + 1}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Draggable>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</Droppable>\n\t\t\t</DragDropContext>\n\t\t)\n\t}\n}\n\nexport default SortableComments","import { navigate } from '@reach/router';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setComments, setProcessed } from '../../redux/actions';\nimport { estimateCommentHtml, getFull } from '../estimate';\nimport Comment from './Comment';\nimport SortableComments from './SortableComments';\nimport { Segment, Container, Header, Button, Input, Icon } from 'semantic-ui-react';\n\nfunction recFilter(commentArr) {\n\tlet news = commentArr.filter(h => h.enabled)\n\t\t.map(d => d.data)\n\t\t.map(d => {\n\t\t\tlet newS = Object.assign({}, d)\n\t\t\tif (newS.replies) {\n\t\t\t\tnewS.replies = recFilter(newS.replies)\n\t\t\t}\n\t\t\treturn newS\n\t\t})\n\treturn news\n}\n\nclass PickComments extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = { current: 0 }\n\t\tthis.onSubmit = this.onSubmit.bind(this)\n\t\tthis.handle = this.handle.bind(this)\n\t\tthis.toggleCurrent = this.toggleCurrent.bind(this)\n\t\tthis.handleKeyEvent = this.handleKeyEvent.bind(this)\n\n\t\tthis.fakecomments = React.createRef()\n\t}\n\thandleKeyEvent(e) {\n\t\tswitch (e.code) {\n\t\t\tcase \"KeyA\":\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\tthis.goPrev()\n\t\t\t\tbreak;\n\t\t\tcase \"KeyD\":\n\t\t\tcase \"ArrowRight\":\n\t\t\t\tthis.goNext()\n\t\t\t\tbreak\n\t\t\tcase \"Enter\":\n\t\t\t\tthis.onSubmit()\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tif (e.code.indexOf('Digit') === 0) {\n\t\t\t\t\tlet num = parseInt(e.code.replace('Digit', ''))\n\t\t\t\t\tthis.toggleCurrent(num)\n\t\t\t\t}\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\twindow.addEventListener('keydown', this.handleKeyEvent)\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('keydown', this.handleKeyEvent)\n\t}\n\tgoPrev() {\n\t\tif (this.state.current > 0) {\n\t\t\tthis.topComment.scrollTo(0, 0)\n\t\t\tthis.setState({ current: this.state.current - 1 })\n\t\t}\n\t}\n\tgoNext() {\n\t\tif (this.state.current < this.props.comments.length - 1) {\n\t\t\tthis.topComment.scrollTo(0, 0)\n\t\t\tthis.setState({ current: this.state.current + 1 })\n\t\t}\n\t}\n\tonSubmit() {\n\t\tlet filt = recFilter(this.props.comments)\n\n\t\tthis.props.setProcessed(filt)\n\n\t\tnavigate('/video/final')\n\t}\n\thandle(id) {\n\t\tif (this.state.chosen.has(id)) {\n\t\t\tthis.state.chosen.set(id)\n\t\t} else {\n\t\t\tthis.state.chosen.add(id)\n\t\t}\n\t\tthis.setState({\n\t\t\tchosen: this.state.chosen,\n\t\t})\n\t}\n\ttoggleCurrent(commentNum) {\n\t\tlet set = Array.from(this.props.comments)\n\n\t\tif (commentNum) {\n\t\t\tlet currentNum = 0\n\n\t\t\t// Used for checking the N:th visible comment in the tree\n\t\t\tfunction traverseOnce(comment) {\n\t\t\t\tcurrentNum++\n\t\t\t\tif (currentNum === commentNum) {\n\t\t\t\t\treturn comment\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(comment.data.replies)) {\n\t\t\t\t\tfor (let i = 0; i < comment.data.replies.length; i++) {\n\t\t\t\t\t\tconst element = comment.data.replies[i];\n\t\t\t\t\t\tlet res = traverseOnce(element)\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\treturn res\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet reqComment = traverseOnce(set[this.state.current])\n\t\t\tif (!reqComment) {\n\t\t\t\treturn // Could not find a comment with inputted number\n\t\t\t}\n\t\t\treqComment.enabled = !reqComment.enabled\n\t\t} else {\n\t\t\tset[this.state.current].enabled = !set[this.state.current].enabled\n\t\t}\n\n\t\tthis.props.setComments(set)\n\t}\n\ttoMinSec(seconds) {\n\t\tlet fullMins = Math.floor(seconds / 60) // No. full mins\n\t\tlet restSecs = ('00' + Math.round(seconds - 60 * fullMins)).slice(-2)\n\t\tlet mins = ('00' + fullMins).slice(-2)\n\t\treturn `${mins}:${restSecs}`\n\t}\n\tcalculateTotalTime() {\n\t\tlet recAdd = comment => {\n\t\t\tlet fullHtml = comment.data.body_html\n\n\t\t\tif (Array.isArray(comment.data.replies)) {\n\t\t\t\tfullHtml += comment.data.replies\n\t\t\t\t\t.filter(r => r.enabled)\n\t\t\t\t\t.map(recAdd)\n\t\t\t\t\t.reduce((a, b) => a + b, '')\n\t\t\t}\n\n\t\t\treturn fullHtml\n\t\t}\n\t\tlet commentTimes = this.props.comments\n\t\t\t.filter(d => d.enabled)\n\t\t\t.map(recAdd)\n\t\t\t.map(b => estimateCommentHtml(b).estimate)\n\n\t\treturn Math.round(1e2 * getFull(commentTimes)) / 1e2\n\t}\n\tonCurrentCommentChange(comment) {\n\t\tlet s = Array.from(this.props.comments)\n\t\tthis.props.setComments(s)\n\t}\n\tonReorder(start, end) {\n\t\tconst reorder = (list, startIndex, endIndex) => {\n\t\t\tconst result = Array.from(list)\n\t\t\tconst [removed] = result.splice(startIndex, 1)\n\t\t\tresult.splice(endIndex, 0, removed)\n\n\t\t\treturn result\n\t\t}\n\n\t\tthis.props.setComments(reorder(this.props.comments, start, end))\n\n\t\tlet current = this.state.current\n\n\t\tif (current === start) {\n\t\t\tthis.setState({ current: end })\n\t\t} else if (current < start && current > end) {\n\t\t\tthis.setState({ current: current + 1 })\n\t\t} else if (current > start && current < end) {\n\t\t\tthis.setState({ current: current - 1 })\n\t\t}\n\t}\n\trender() {\n\t\tif (this.props.comments.length === 0) {\n\t\t\treturn (<Container>\n\t\t\t\t<Header>No comments found for this thread</Header>\n\t\t\t</Container>)\n\t\t}\n\t\tlet comment = this.props.comments[this.state.current]\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center' }}>\n\t\t\t\t\t<SortableComments setCurrent={i => this.setState({ current: i })} current={this.state.current} reorder={this.onReorder.bind(this)} items={this.props.comments} />\n\t\t\t\t\t<div style={{ flexGrow: 1, paddingLeft: 10 }}>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<div ref={ref => this.topComment = ref}>\n\t\t\t\t\t\t\t\t<Comment key={comment.data.id} comment={comment} onChange={this.onCurrentCommentChange.bind(this)} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\", padding: 10 }}>\n\t\t\t\t\t\t\t<Button disabled={this.state.current <= 0} onClick={this.goPrev.bind(this)}>\n\t\t\t\t\t\t\t\t<Icon name=\"arrow left\" />\n\t\t\t\t\t\t\t\tPrev\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Input type=\"number\" max={this.props.comments.length} min={1} value={this.state.current + 1} onChange={e => this.setState({ current: Math.max(0, parseInt(e.target.value) - 1 || 0) })} />\n\t\t\t\t\t\t\t<Button disabled={this.state.current > this.props.comments.length} onClick={this.goNext.bind(this)}>\n\t\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t<Icon name=\"arrow right\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-around\", marginTop: 10 }}>\n\t\t\t\t\t\t\t<Button onClick={this.onSubmit} size=\"huge\" primary>Finish</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default connect(state => ({\n\tcomments: state.comments,\n}), {\n\tsetProcessed,\n\tsetComments\n})(PickComments);","import { navigate } from '@reach/router';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Header, Segment } from 'semantic-ui-react';\nimport { setTitle } from '../redux/actions';\n\nclass Question extends Component {\n\tonSubmit = e => {\n\t\te.preventDefault()\n\n\t\tnavigate('selftext')\n\t}\n\tonChange = e => {\n\t\tthis.props.setTitle(e.target.value)\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Segment>\n\t\t\t\t<Form onSubmit={this.onSubmit}>\n\t\t\t\t\t<Header size=\"large\">Edit question</Header>\n\t\t\t\t\t<Form.Input value={this.props.title} onChange={this.onChange} />\n\t\t\t\t\t<Form.Button primary type=\"submit\">Continue</Form.Button>\n\t\t\t\t</Form>\n\t\t\t</Segment>\n\t\t)\n\t}\n}\n\nexport default connect(state => ({\n\ttitle: state.question.title,\n}), { setTitle })(Question);","import React, { Component } from 'react'\nimport { foulSpanArray } from './sanitize'\n\nimport { EditorState, ContentState, convertFromHTML } from 'draft-js'\nimport Editor from 'draft-js-plugins-editor'\nimport { stateToHTML } from 'draft-js-export-html'\nimport createLinkPlugin from 'draft-js-anchor-plugin'\nimport createInlineToolbarPlugin from 'draft-js-inline-toolbar-plugin'\nimport { ItalicButton, BoldButton, UnderlineButton } from 'draft-js-buttons'\n\nfunction findWithRegex(regex, contentBlock, callback) {\n    const text = contentBlock.getText()\n    let matchArr, start\n    while ((matchArr = regex.exec(text)) !== null) {\n        start = matchArr.index\n        callback(start, start + matchArr[0].length)\n    }\n}\n\nfunction handleStrategy(contentBlock, callback) {\n    foulSpanArray.forEach(reg => {\n        findWithRegex(new RegExp(reg, 'ig'), contentBlock, callback)\n    })\n}\nfunction editStrategy(contentBlock, callback) {\n    findWithRegex(/(?:^|\\W)edit/img, contentBlock, callback)\n}\n\nlet handleSpan = props => {\n    return <span className=\"highlight-danger\">{props.children}</span>\n}\n\nlet editSpan = props => {\n    return <span className=\"highlight-warn\">{props.children}</span>\n}\n\nlet decorators = [\n    {\n        strategy: handleStrategy,\n        component: handleSpan,\n    },\n    {\n        strategy: editStrategy,\n        component: editSpan,\n    },\n]\n\nclass EditorComponent extends Component {\n    constructor(p) {\n        super(p)\n\n        this.inlineToolbarPlugin = createInlineToolbarPlugin()\n        this.linkPlugin = createLinkPlugin()\n        this.plugins = [\n            this.inlineToolbarPlugin,\n            this.linkPlugin,\n        ]\n\n        let d = convertFromHTML(p.data)\n        \n        this.state = {\n            editor: d.contentBlocks ? EditorState.createWithContent(\n                ContentState.createFromBlockArray(d.contentBlocks, d.entityMap)\n            ) : EditorState.createEmpty(),\n        }\n    }\n    handlePress = e => {\n        e.stopPropagation()\n    }\n    onChange = val => {\n        this.setState({ editor: val })\n\n        let html = stateToHTML(this.state.editor.getCurrentContent())\n\n        if (this.props.data !== html) {\n            this.props.onChange(html)\n        }\n    }\n    render() {\n        return <div>\n            <Editor\n                editorState={this.state.editor}\n                onChange={this.onChange}\n                decorators={decorators}\n                plugins={this.plugins}\n            />\n            <this.inlineToolbarPlugin.InlineToolbar>\n                {extProps => <>\n                    <BoldButton {...extProps} />\n                    <ItalicButton {...extProps} />\n                    <UnderlineButton {...extProps} />\n                    <this.linkPlugin.LinkButton {...extProps} />\n                </>}\n            </this.inlineToolbarPlugin.InlineToolbar>\n        </div>\n    }\n}\n\nexport default EditorComponent","import { navigate } from '@reach/router';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Header, Segment } from 'semantic-ui-react';\nimport { setSelftext, setIncludeSelftext } from '../redux/actions';\nimport EditorComponent from './EditorComponent';\n\nclass Selftext extends Component {\n    onSubmit = e => {\n        e.preventDefault()\n\n        navigate('/video/comments')\n    }\n    onChangeSelftext = value => {\n        this.props.setSelftext(value)\n    }\n    onChangeInclude = (e, { checked }) => {\n        this.props.setIncludeSelftext(checked)\n    }\n    render() {\n        return (\n            <Segment>\n                <Form onSubmit={this.onSubmit}>\n                    <Header size=\"large\">Edit selftext</Header>\n                    <Form.Checkbox label=\"Include selftext?\" checked={this.props.includeSelftext} onChange={this.onChangeInclude} />\n                    <Segment style={{ display: this.props.includeSelftext ? 'block' : 'none' }}>\n                        <EditorComponent onChange={this.onChangeSelftext} data={this.props.selftext} />\n                    </Segment>\n                    <Form.Button primary type=\"submit\">Continue</Form.Button>\n                </Form>\n            </Segment>\n        )\n    }\n}\n\nexport default connect(state => ({\n    selftext: state.question.selftext_html || \"\",\n    includeSelftext: state.question.includeSelftext,\n}), { setSelftext, setIncludeSelftext })(Selftext);","import { Link, Redirect, Router } from '@reach/router'\nimport 'draft-js-inline-toolbar-plugin/lib/plugin.css'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Container, Header } from 'semantic-ui-react'\nimport { getSongs, getThemes } from '../api'\nimport SelectThread from './ChooseThread'\nimport Final from './Final'\nimport Navbar from './Navbar'\nimport PickComments from './PickComments/index'\nimport Question from './Question'\nimport SelfText from './SelfText'\n\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tgetThemes()\n\t\tgetSongs()\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<div style={{ display: 'flex', alignItems: 'center' }}>\n\t\t\t\t\t<Header style={{ paddingTop: 10 }} as=\"h1\">\n\t\t\t\t\t\t<Header.Content>Project BOG</Header.Content>\n\t\t\t\t\t\t<Header.Subheader>Create video</Header.Subheader>\n\t\t\t\t\t</Header>\n\t\t\t\t\t<Button style={{ marginLeft: 20 }} basic as={Link} to=\"/\">Go back</Button>\n\t\t\t\t</div>\n\t\t\t\t<Router>\n\t\t\t\t\t<Navbar path=\"/\">\n\t\t\t\t\t\t<SelectThread path=\"/\" />\n\t\t\t\t\t\t{/* Can't have fragments in Router element */}\n\t\t\t\t\t\t{this.props.question && <Question path=\"post\" />}\n\t\t\t\t\t\t{this.props.question && <SelfText path=\"selftext\" />}\n\t\t\t\t\t\t{this.props.question && <PickComments path=\"comments\" />}\n\t\t\t\t\t\t{this.props.question && <Final path=\"final\" />}\n\t\t\t\t\t\t<Redirect default from=\"*\" to=\"/video/\" noThrow />\n\t\t\t\t\t</Navbar>\n\t\t\t\t</Router>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nlet mapStateToProps = store => {\n\treturn {\n\t\tquestion: store.question,\n\t}\n}\n\nexport default connect(mapStateToProps)(App)","import React from 'react';\nimport { Container, Form, Message, Segment } from 'semantic-ui-react';\nimport { _postRender } from './api';\n\nclass Testing extends React.Component {\n    state = { text: \"\", message: null }\n    onChange = (_, { name, value }) => this.setState({ [name]: value })\n    sendRender = () => {\n        let json = JSON.parse(this.state.text) // Parse the text as json\n        _postRender(json) // Send it to render\n            .then(() => {\n                this.setState({ message: \"Rendering...\" })\n            })\n    }\n    render() {\n        return (\n            <Container>\n                <Segment>\n                    <Form>\n                        <Form.TextArea value={this.state.text} name=\"text\" onChange={this.onChange} />\n                        <Form.Button onClick={this.sendRender}>Render</Form.Button>\n                        {this.state.message && <Message>{this.state.message}</Message>}\n                    </Form>\n                </Segment>\n            </Container>\n        )\n    }\n}\n\nexport default Testing","import { navigate } from '@reach/router'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Container, Form, Header, Segment, Label, Divider } from 'semantic-ui-react'\nimport { deleteTheme, editTheme, getTheme, longPollVideo, postPreview, uploadThemeFiles, deleteThemeFile } from '../api'\nimport FileInput from '../FileInput'\nimport FrontNav from '../FrontNav'\n\nlet voices = [\n    {\n        value: \"daniel\",\n        text: \"Daniel UK\"\n    },\n    {\n        value: \"google-us\",\n        text: \"Google US\"\n    },\n]\n\nclass Theme extends React.Component {\n    state = {\n        name: \"\",\n        voice: \"\",\n        voiceSpeed: 1,\n\n        // Files\n        intro: null,\n        transition: null,\n        outro: null,\n\n        loading: true,\n    }\n    componentDidMount() {\n        getTheme(this.props.themeId)\n            .then(theme => {\n                this.setState(theme)\n            })\n    }\n    delete = async () => {\n        await deleteTheme(this.props.themeId)\n        navigate('/', { replace: true })\n    }\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    handleFileChange = e => {\n        e.preventDefault()\n        this.setState({ [e.target.name]: e.target.files[0] })\n    }\n    submit = () => {\n        this.setState({ loading: true })\n        editTheme(this.props.themeId, {\n            name: this.state.name,\n            voice: this.state.voice,\n            voiceSpeed: this.state.voiceSpeed,\n        }).then(async () => {\n            const { intro, transition, outro } = this.state\n\n            // If at least one file has been selected, upload it/them.\n            if (intro || transition || outro) {\n                const data = new FormData()\n\n                intro && data.append('intro', intro)\n                outro && data.append('outro', outro)\n                transition && data.append('transition', transition)\n\n                await uploadThemeFiles(this.props.themeId, data)\n\n                this.setState({ loading: false })\n            } else {\n                this.setState({ loading: false })\n            }\n        })\n    }\n    preview = () => {\n        postPreview(this.props.themeId)\n            .then(res => {\n                console.log(res)\n                return longPollVideo(res.id)\n            })\n            .then(res => {\n                let file = res.file\n                window.open('/api/videos/' + file, '_blank')\n            })\n    }\n    removeFile = type => {\n        deleteThemeFile(this.props.themeId, { [type]: true })\n    }\n    render() {\n        return (\n            <Container>\n                <FrontNav />\n                <Form onSubmit={e => e.preventDefault()}>\n                    <Segment>\n                        <Form.Group inline>\n                            <Form.Input\n                                name=\"name\"\n                                type=\"text\"\n                                placeholder=\"Name\"\n                                value={this.state.name}\n                                onChange={this.handleChange}>\n                            </Form.Input>\n                            <Form.Select\n                                name=\"voice\"\n                                placeholder=\"Voice\"\n                                value={this.state.voice}\n                                options={voices}\n                                onChange={this.handleChange}>\n                            </Form.Select>\n\n                            {/* <Form.Input\n                                name=\"voiceSpeed\"\n                                type=\"number\"\n                                placeholder=\"Voice speed (default 1)\"\n                                step={0.01}\n                                min={0.2}\n                                max={5}\n                                value={this.state.voiceSpeed}\n                                onChange={this.handleChange}>\n                            </Form.Input> */}\n\n                        </Form.Group>\n                        <Form.Group grouped>\n                            <Header>Intro</Header>\n                            <Form.Field inline>\n                                <FileInput\n                                    accept=\"video/*\"\n                                    name=\"intro\"\n                                    buttonOnly\n                                    label={this.state.intro ? \"Change intro\" : \"No intro\"}\n                                    onChange={this.handleFileChange}\n                                />\n                                <label>{this.state.intro && this.state.intro.origname}</label>\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group grouped>\n                            <Header>Transition</Header>\n                            <Form.Field inline>\n                                <FileInput\n                                    accept=\"video/*\"\n                                    name=\"transition\"\n                                    buttonOnly\n                                    label={this.state.transition ? \"Change transition\" : \"No transition\"}\n                                    onChange={this.handleFileChange}\n                                />\n                                <label>{this.state.transition && this.state.transition.origname}</label>\n                                {/* {this.state.transition.origname && <Button icon=\"trash\" secondary size=\"mini\" onClick={() => this.removeFile('transition')}></Button>} */}\n                            </Form.Field>\n                        </Form.Group>\n                        <Form.Group grouped>\n                            <Header>Outro</Header>\n                            <Form.Field inline>\n                                <FileInput\n                                    accept=\"video/*\"\n                                    name=\"outro\"\n                                    buttonOnly\n                                    label={this.state.outro ? \"Change outro\" : \"No outro\"}\n                                    onChange={this.handleFileChange}\n                                />\n                                <label>{this.state.outro && this.state.outro.origname}</label>\n                            </Form.Field>\n                        </Form.Group>\n                        <Divider />\n                        <Form.Group inline>\n                            <Form.Button floated=\"right\" onClick={this.submit} type=\"submit\">Save</Form.Button>\n                            <Form.Button floated=\"right\" type=\"button\" color=\"red\" onClick={this.delete}>Delete</Form.Button>\n                        </Form.Group>\n                    </Segment>\n                </Form>\n                <Segment>\n                    <Button onClick={this.preview}>Preview</Button>\n                </Segment>\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = (store, props) => {\n    return {\n        theme: store.themes.find(th => th._id === props.themeId),\n    }\n}\n\nexport default connect(mapStateToProps)(Theme);","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Container, Divider, Header, List, Loader, Modal, Form, Button, Label, Search } from 'semantic-ui-react'\nimport { adminGetUsers, adminCreateUser, adminChangePass, adminGiveCredits } from '../api'\n\nclass UserList extends React.Component {\n    state = {\n        addingUser: false,\n        editingUser: false,\n        selectedUser: null,\n        email: \"\",\n        password: \"\",\n        creditsToGive: 0,\n        loading: false,\n    }\n    componentDidMount() {\n        adminGetUsers()\n    }\n    createUser = async () => {\n        this.setState({ loading: true })\n        await adminCreateUser(this.state.email, this.state.password)\n        this.setState({ loading: false })\n        adminGetUsers()\n        this.closeAddModal()\n    }\n    openAddModal = () => this.setState({ addingUser: true, editingUser: false, loading: false, email: \"\", password: \"\" })\n    closeAddModal = () => this.setState({ addingUser: false })\n\n    changeUserPass = async () => {\n        this.setState({ loading: true })\n        await adminChangePass(this.state.selectedUser._id, this.state.password)\n        this.setState({ loading: false })\n        this.closeEditModal()\n    }\n    giveCredits = async () => {\n        this.setState({ loading: true })\n        await adminGiveCredits(this.state.selectedUser._id, this.state.creditsToGive)\n        this.setState({ loading: false, creditsToGive: 0 })\n        adminGetUsers()\n        this.closeEditModal()\n    }\n    openEditModal = (user) => this.setState({ addingUser: false, editingUser: true, loading: false, email: user.email, password: user.password, selectedUser: user })\n    closeEditModal = () => this.setState({ editingUser: false })\n\n    handleChange = (e, { name, value }) => this.setState({ [name]: value })\n    render() {\n        return (\n            <Container textAlign=\"left\">\n                <List selection>\n                    {this.props.users ? this.props.users.map(user =>\n                        <List.Item key={user._id} onClick={() => this.openEditModal(user)}>\n                            <List.Content>\n                                <List.Header>{user.email} {user.isAdmin && <Label size=\"tiny\" color=\"red\">admin</Label>}</List.Header>\n                                <List.Description>{user.credits} credits</List.Description>\n                                <List.Description>{user.videoCount} videos made</List.Description>\n                            </List.Content>\n                        </List.Item>\n                    ) : <Loader active />}\n                </List>\n                <Divider />\n                <Button onClick={this.openAddModal}>Create user</Button>\n                {/* Adding Modal */}\n                <Modal open={this.state.addingUser} onClose={this.closeAddModal}>\n                    <Modal.Content>\n                        <Header>Add user</Header>\n                    </Modal.Content>\n                    <Modal.Content>\n                        <Form>\n                            <Form.Input placeholder=\"Email\" type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} />\n                            <Form.Input placeholder=\"Password\" type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} />\n                        </Form>\n                    </Modal.Content>\n                    <Modal.Actions>\n                        <Form.Button primary onClick={this.createUser}>Create</Form.Button>\n                    </Modal.Actions>\n                </Modal>\n                {/* Editing Modal */}\n                <Modal open={this.state.editingUser} onClose={this.closeEditModal}>\n                    <Modal.Content>\n                        <Header>Give credits</Header>\n                    </Modal.Content>\n                    <Modal.Content>\n                        <Form loading={this.state.loading}>\n                            <Header>Current credits: {this.state.selectedUser && this.state.selectedUser.credits}</Header>\n                            <Form.Input type=\"number\" name=\"creditsToGive\" step={1} value={this.state.creditsToGive} onChange={this.handleChange} />\n                        </Form>\n                    </Modal.Content>\n                    <Modal.Actions>\n                        <Form.Button primary onClick={this.giveCredits} loading={this.state.loading}>Give credits</Form.Button>\n                    </Modal.Actions>\n                    <Divider />\n                    <Modal.Content>\n                        <Header>Change user password</Header>\n                    </Modal.Content>\n                    <Modal.Content>\n                        <Form>\n                            <Form.Input disabled placeholder=\"Email\" type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} />\n                            <Form.Input placeholder=\"Password\" type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} />\n                        </Form>\n                    </Modal.Content>\n                    <Modal.Actions>\n                        <Form.Button primary onClick={this.changeUserPass} loading={this.state.loading}>Change password</Form.Button>\n                    </Modal.Actions>\n                </Modal>\n            </Container>\n        )\n    }\n}\n\nlet mapStateToProps = store => {\n    return {\n        users: store.users,\n    }\n}\n\nexport default connect(mapStateToProps)(UserList);","import { Link } from '@reach/router'\nimport React from 'react'\nimport { Button, Container, Divider, Grid, Header, Segment } from 'semantic-ui-react'\nimport Credits from '../Credits'\nimport FrontNav from '../FrontNav'\nimport UserList from './UserList'\n\nclass Dashboard extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<FrontNav />\n\t\t\t\t<Header textAlign=\"center\" as=\"h1\">Admin Dashboard</Header>\n\t\t\t\t<Grid stackable>\n\t\t\t\t\t<Grid.Column width={8}>\n\t\t\t\t\t\t<Divider horizontal>Credits</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<Credits />\n\t\t\t\t\t\t\t<Button as={Link} to=\"/buy-credits\">Buy credits</Button>\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t<Grid.Column width={8}>\n\t\t\t\t\t\t<Divider horizontal>Users</Divider>\n\t\t\t\t\t\t<Segment>\n\t\t\t\t\t\t\t<UserList />\n\t\t\t\t\t\t</Segment>\n\t\t\t\t\t</Grid.Column>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default Dashboard","import { Redirect, Router } from '@reach/router';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport 'semantic-ui-css/semantic.min.css';\nimport BuyCredits from './BuyCredits';\nimport Dashboard from './Dashboard/index';\nimport Logout from './Logout';\nimport App from './render/App';\nimport Testing from './Testing';\nimport ThemeEdit from './Themes/_id';\nimport { getUser } from './api';\nimport Admin from './Admin'\n\nconst NotFound = ({ redirect = \"/\" }) => <Redirect noThrow from=\"*\" to={redirect} />\n\nconst AdminPath = props => <div>{props.children}</div>\n\nclass AuthedRouter extends React.Component {\n    componentWillMount() {\n        getUser()\n    }\n    render() {\n        return (\n                <Router>\n                    <Dashboard path=\"/\" />\n                    <BuyCredits path=\"/buy-credits\" />\n                    <App path=\"/video/*\" />\n                    <ThemeEdit path=\"/themes/:themeId\" />\n                    <Logout path=\"/logout\" />\n                    <Testing path=\"/__testing_ground\" />\n                    <AdminPath path=\"/admin\">\n                        <Admin path=\"/\" />\n                    </AdminPath>\n                    <NotFound default />\n                </Router>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    user: state.user,\n})\n\nexport default connect(mapStateToProps)(AuthedRouter)","import React from 'react';\nimport { Grid, Header, Segment, Form, Message } from 'semantic-ui-react'\nimport { authorize } from './api'\nimport { Link, redirectTo } from '@reach/router'\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: null,\n            loading: false,\n        }\n\n        this.login = this.login.bind(this)\n    }\n    login() {\n        this.setState({ error: null, loading: true })\n        authorize(this.state.email, this.state.password)\n            .catch(err => {\n                this.setState({ loading: false })\n                if (typeof err === \"string\") {\n                    this.setState({ error: err })\n                } else {\n                    console.error(err)\n                }\n            })\n            .then(d => {\n                redirectTo('/dashboard')\n            })\n    }\n    render() {\n        return (\n            <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n                <Grid.Column style={{ maxWidth: 450 }}>\n                    <Header as=\"h2\">Log in</Header>\n                    <Form onSubmit={this.login}>\n                        <Segment>\n                            <Form.Input\n                                fluid\n                                placeholder=\"Email\"\n                                disabled={this.state.loading}\n                                type=\"email\"\n                                value={this.state.email}\n                                onChange={d => this.setState({ email: d.target.value })}>\n                            </Form.Input>\n                            <Form.Input\n                                fluid\n                                placeholder=\"Password\"\n                                disabled={this.state.loading}\n                                type=\"password\"\n                                value={this.state.password}\n                                onChange={d => this.setState({ password: d.target.value })}>\n                            </Form.Input>\n                            <Form.Button\n                                fluid\n                                type=\"submit\"\n                                size=\"large\"\n                                disabled={this.state.loading}\n                                color=\"teal\">\n                                Log in\n                            </Form.Button>\n                            <div><Link to=\"/register\">Register</Link></div>\n                        </Segment>\n                    </Form>\n                    <Message size=\"small\">Forgot password?</Message>\n                    {this.state.error && <Message error>{this.state.error}</Message>}\n                </Grid.Column>\n            </Grid>\n        )\n    }\n}\n\nexport default App;","import React from 'react';\nimport { Grid, Header, Segment, Form, Message,Comment } from 'semantic-ui-react'\nimport { register } from './api'\nimport { Link } from '@reach/router'\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n        }\n\n        this.register = this.register.bind(this)\n    }\n    register() {\n        register(this.state.email, this.state.password)\n    }\n    render() {\n        return (\n            <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n                <Grid.Column style={{ maxWidth: 450 }}>\n                    <Header as=\"h2\">Register</Header>\n                    <Form onSubmit={this.register}>\n                        <Segment>\n                            <Form.Input\n                                fluid\n                                placeholder=\"Email\"\n                                type=\"email\"\n                                value={this.state.email}\n                                onChange={d => this.setState({ email: d.target.value })}>\n                            </Form.Input>\n                            <Form.Input\n                                fluid\n                                placeholder=\"Password\"\n                                type=\"password\"\n                                value={this.state.password}\n                                onChange={d => this.setState({ password: d.target.value })}>\n                            </Form.Input>\n                            <Form.Button\n                                fluid\n                                type=\"submit\"\n                                size=\"large\"\n                                color=\"teal\">\n                                Register\n                            </Form.Button>\n                            <Comment><Link to=\"/login\">Log in</Link></Comment>\n                        </Segment>\n                    </Form>\n                </Grid.Column>\n            </Grid>\n        )\n    }\n}\n\nexport default App;","import { Redirect, Router } from '@reach/router';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport 'semantic-ui-css/semantic.min.css';\nimport Login from './Login';\nimport Register from './Register';\n\nconst NotFoundLogin = ({ redirect = \"/login\" }) => <Redirect noThrow from=\"*\" to={redirect} />\n\nclass BogRouter extends React.Component {\n    render() {\n        return (\n            <Router>\n                <Register path=\"/register\" />\n                <Login path=\"/login\" />\n                <NotFoundLogin default />\n            </Router>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    loggedIn: state.loggedIn,\n})\n\nexport default connect(mapStateToProps)(BogRouter)","import React from 'react';\nimport { connect } from 'react-redux';\nimport 'semantic-ui-css/semantic.min.css';\nimport AuthedRouter from './AuthedRouter';\nimport DefaultRouter from './DefaultRouter';\n\nclass App extends React.Component {\n    render() {\n        return (\n            this.props.loggedIn ? <AuthedRouter /> : <DefaultRouter />\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    loggedIn: state.loggedIn,\n})\n\nexport default connect(mapStateToProps)(App)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css'\nimport store from './redux/store';\nimport * as serviceWorker from './render/serviceWorker';\nimport App from './App';\nimport { StripeProvider } from 'react-stripe-elements';\n\nReactDOM.render(\n\t<StripeProvider apiKey=\"pk_test_L7TCDB8LinfbSK3OzvaoaXEj00z2dt6HgK\">\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</StripeProvider>,\n\tdocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}